# queued-socket.io
[![Build Status](https://travis-ci.org/anchorchat/queued-socket.io.svg?branch=master)](https://travis-ci.org/anchorchat/queued-socket.io)
[![npm version](https://badge.fury.io/js/queued-socket.io.svg)](https://badge.fury.io/js/queued-socket.io)
[![Coverage Status](https://img.shields.io/codecov/c/github/anchorchat/queued-socket.io/master.svg)](https://codecov.io/gh/anchorchat/queued-socket.io/)

> Socket.io client with offline queue

- [Installation](#installation)
- [Basic Usage](#basic-usage)
- [API Reference](#api-reference)
- [Debug/logging](#debuglogging)
- [Contributing](#contributing)
- [Tests](#tests)
- [Releasing](#releasing)
- [Support](#support)

## Installation
Install using [npm](https://www.npmjs.org/):

[![NPM](https://nodei.co/npm/queued-socket.io.png)](https://nodei.co/npm/queued-socket.io/)

```sh
npm install queued-socket.io
```

## Basic Usage
```js
const socket = require('queued-socket.io');

// Before there is a socket connection, add events. These will be queued and run after the connection is established.
socket.on('ping', () => console.log('ping'));
socket.on('disconnect', () => console.log('disconnected'));
socket.once('ping', () => console.log('One time ping'));
socket.emit('authentication', { token: 'loginToken' }, 1);

const options = {
  path: '/socket',
  transports: ['websocket']
};

const client = socket.connect('http://localhost:5000', options);

console.log(`Socket is ${socket.isConnected() ? 'connected' : 'disconnected'}`);
```

## API Reference

{{#module name="socket"~}}
  {{>body~}}
  {{>member-index~}}
  {{>members~}}
{{/module~}}

{{#module name="events"~}}
  {{>body~}}
  {{>member-index~}}
  {{>members~}}
{{/module~}}

## Debug/logging

queued-socket.io makes use of [debug](https://github.com/visionmedia/debug).
To see the output in the console run this in the console:

```js
localStorage.debug = 'queued-socket.io*';
```

## Contributing

Please submit all issues and pull requests to the [anchorchat/queued-socket.io](http://github.com/anchorchat/queued-socket.io) repository!

## Tests

Run tests using `npm test`.

## Releasing

Make sure your working directory is clean!

    git checkout master && git fetch && git merge origin/master
    npm run prepare
    npm version <patch|minor|major> -m '<commit message containing changes for this release>'
    git push origin master
    git push --tags
    npm publish

## Support

If you have any problem or suggestion please open an issue [here](https://github.com/anchorchat/queued-socket.io/issues).